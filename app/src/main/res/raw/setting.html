<!--
  ~ MIT License
  ~
  ~ Copyright (c) 2017 Kabuku Inc.
  ~
  ~ Permission is hereby granted, free of charge, to any person obtaining a copy
  ~ of this software and associated documentation files (the "Software"), to deal
  ~ in the Software without restriction, including without limitation the rights
  ~ to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
  ~ copies of the Software, and to permit persons to whom the Software is
  ~ furnished to do so, subject to the following conditions:
  ~
  ~ The above copyright notice and this permission notice shall be included in all
  ~ copies or substantial portions of the Software.
  ~
  ~ THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  ~ IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  ~ FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
  ~ AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  ~ LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
  ~ OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
  ~ SOFTWARE.
  ~
  -->

<html>
    <head>
        <title>Servo calibration</title>
        <meta charset=UTF-8>
        <meta
                name=viewport
                content=width=device-width>
        <style type=text/css>
body {
margin: 0px;
backgound-color: #FFFFFF;
font-family: helvetica, arial;
font-size: 100%;
color: #555555;
}
td {
text-align: center;
}
span {
font-family: helvetica, arial;
font-size: 70%;
color: #777777;
}
input[type=text],input[type=number] {
width: 40%;
font-family: helvetica, arial;
font-size: 90%;
color: #555555;
text-align: center;
padding: 3px 3px 3px 3px;
}
button {
width: 40%;
font-family: helvetica, arial;
font-size: 90%;
color: #555555;
background: #BFDFFF;
padding: 5px 5px 5px 5px;
border: none;
}


        </style>
    </head>
    <body>
        <br>
        <table
                width=100%
                height=90%>
            <tr>
                <td width=50%>D16
                    <br />
                    <input
                            type=number
                            min=-124
                            max=124
                            id=servo_4
                            value="__4__"
                            required>
                    <button
                            type=button
                            style=background:#FFE599
                            onclick=saveServo(4,'servo_4')>SET
                    </button>
                </td>
                <td width=50%>D14
                    <br />
                    <input
                            type=number
                            min=-124
                            max=124
                            id=servo_0
                            value="__0__"
                            required>
                    <button
                            type=button
                            style=background:#FFE599
                            onclick=saveServo(0,'servo_0')>SET
                    </button>
                </td>
            </tr>
            <tr>
                <td>D05
                    <br />
                    <input
                            type=number
                            min=-124
                            max=124
                            id=servo_5
                            value="__5__"
                            required>
                    <button
                            type=button
                            onclick=saveServo(5,'servo_5')>SET
                    </button>
                </td>
                <td>D12
                    <br />
                    <input
                            type=number
                            min=-124
                            max=124
                            id=servo_1
                            value="__1__"
                            required>
                    <button
                            type=button
                            onclick=saveServo(1,'servo_1')>SET
                    </button>
                </td>
            </tr>
            <tr>
                <td>D04
                    <br />
                    <input
                            type=number
                            min=-124
                            max=124
                            id=servo_6
                            value="__6__"
                            required>
                    <button
                            type=button
                            onclick=saveServo(6,'servo_6')>SET
                    </button>
                </td>
                <td>D13
                    <br />
                    <input
                            type=number
                            min=-124
                            max=124
                            id=servo_2
                            value="__2__"
                            required>
                    <button
                            type=button
                            onclick=saveServo(2,'servo_2')>SET
                    </button>
                </td>
            </tr>
            <tr>
                <td>D02
                    <br />
                    <input
                            type=number
                            min=-124
                            max=124
                            id=servo_7
                            value="__7__"
                            required>
                    <button
                            type=button
                            style=background:#FFE599
                            onclick=saveServo(7,'servo_7')>SET
                    </button>
                </td>
                <td>D15
                    <br />
                    <input
                            type=number
                            min=-124
                            max=124
                            id=servo_3
                            value="__3__"
                            required>
                    <button
                            type=button
                            style=background:#FFE599
                            onclick=saveServo(3,'servo_3')>SET
                    </button>
                </td>
            </tr>
            <tr>
                <td colspan=2>
                    <button
                            type=button
                            style=background:#FFBFBF
                            onclick=saveServo(100,0)>RESET ALL
                    </button>
                </td>
            </tr>
        </table>
        <div id=demo></div>
    </body>
    <script>
function saveServo(id, textId) {
    var xhttp = new XMLHttpRequest();
    var value = "0";
    if(id==100){
        document.getElementById("servo_7").value = "0";
        document.getElementById("servo_6").value = "0";
        document.getElementById("servo_5").value = "0";
        document.getElementById("servo_4").value = "0";
        document.getElementById("servo_3").value = "0";
        document.getElementById("servo_2").value = "0";
        document.getElementById("servo_1").value = "0";
        document.getElementById("servo_0").value = "0";
    }else{
        value = document.getElementById(textId).value;
    }

    xhttp.onreadystatechange = function() {
        if (xhttp.readyState == 4 && xhttp.status == 200) {
            document.getElementById("demo").innerHTML = xhttp.responseText;
        }
    };
    xhttp.open("GET","save?key="+id+"&value="+value, true);
    xhttp.send();
}


    </script>
</html>